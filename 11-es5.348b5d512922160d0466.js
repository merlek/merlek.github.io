function _defineProperties(n,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,l,t){return l&&_defineProperties(n.prototype,l),t&&_defineProperties(n,t),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{ElCL:function(n,l,t){"use strict";t.r(l);var e,u=t("8Y7J"),i=function n(){_classCallCheck(this,n)},s=t("pMnS"),a=t("s7LF"),o=function(n,l){return Math.floor(Math.random()*l)+n},r=function(n){return function(l){return(l%n+n)%n}},c=function(){function n(l,t){_classCallCheck(this,n),this.x=l,this.y=t}return _createClass(n,[{key:"equals",value:function(n){return null!=n&&this.x===n.x&&this.y===n.y}}]),n}(),h=function(){var n=function n(){_classCallCheck(this,n)};return n.NORTH=new c(0,-1),n.SOUTH=new c(0,1),n.EAST=new c(1,0),n.WEST=new c(-1,0),n}(),d=function(){function n(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:35,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[h.EAST],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new c(16,2);_classCallCheck(this,n),this.cols=l,this.rows=t,this.moves=e,this.snake=u,this.apple=i}return _createClass(n,[{key:"willEat",value:function(){return this.nextHead().equals(this.apple)}},{key:"willCrash",value:function(){var n=this;return null!=this.snake.find((function(l){return l&&n.nextHead().equals(l)}))}},{key:"validMove",value:function(n){return this.moves[0].x+n.x!==0||this.moves[0].y+n.y!==0}},{key:"nextMoves",value:function(){return this.moves.length>1?this.moves.slice(1):this.moves}},{key:"nextApple",value:function(){return this.willEat()?this.rndPos():this.apple}},{key:"nextHead",value:function(){return 0===this.snake.length?new c(2,2):new c(r(this.cols)(this.snake[0].x+this.moves[0].x),r(this.rows)(this.snake[0].y+this.moves[0].y))}},{key:"nextSnake",value:function(){return this.willCrash()?[]:this.willEat()?[this.nextHead()].concat(this.snake):[this.nextHead()].concat(this.snake.slice(0,this.snake.length-1))}},{key:"rndPos",value:function(){return new c(o(0,this.cols-1),o(0,this.rows-1))}},{key:"merge",value:function(l){return Object.assign(new n,this,l)}},{key:"next",value:function(){return new n(this.cols,this.rows,this.nextMoves(),this.nextSnake(),this.nextApple())}},{key:"enqueue",value:function(n){return this.validMove(n)?this.merge({moves:this.moves.concat([n])}):this}}]),n}(),g=function(){function n(l,t){var e=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new d;_classCallCheck(this,n),this.state=u,this.fps=10,this.update=function(n){return function(l){l-n>1e3/e.fps?(e.state=e.state.next(),e.draw(),e.animationFrameId=window.requestAnimationFrame(e.update(l))):e.animationFrameId=window.requestAnimationFrame(e.update(n))}},this.backgroundCtx=t.getContext("2d"),this.canvasWidth=t.width,this.canvasHeight=t.height,this.gameCtx=l.getContext("2d")}return _createClass(n,[{key:"start",value:function(){this.draw(),this.animationFrameId=window.requestAnimationFrame(this.update(0))}},{key:"draw",value:function(){var n=this;this.gameCtx.fillStyle="#232323",this.gameCtx.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.gameCtx.fillStyle="rgb(0,200,50)",this.state.snake.forEach((function(l){return n.gameCtx.fillRect(n.x(l.x),n.y(l.y),n.x(1),n.y(1))})),this.gameCtx.fillStyle="rgb(255,50,0)",this.gameCtx.fillRect(this.x(this.state.apple.x),this.y(this.state.apple.y),this.x(1),this.y(1)),0===this.state.snake.length&&(this.gameCtx.fillStyle="rgb(255,0,0)",this.gameCtx.fillRect(0,0,this.canvasWidth,this.canvasHeight))}},{key:"destroy",value:function(){this.animationFrameId&&window.cancelAnimationFrame(this.animationFrameId)}},{key:"keyEvent",value:function(n){switch(n){case"w":case"h":case"ArrowUp":this.state=this.state.enqueue(h.NORTH);break;case"a":case"j":case"ArrowLeft":this.state=this.state.enqueue(h.WEST);break;case"s":case"k":case"ArrowDown":this.state=this.state.enqueue(h.SOUTH);break;case"d":case"l":case"ArrowRight":this.state=this.state.enqueue(h.EAST)}}},{key:"x",value:function(n){return Math.round(n*this.canvasWidth/this.state.cols)}},{key:"y",value:function(n){return Math.round(n*this.canvasHeight/this.state.rows)}}]),n}(),b=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"setCookie",value:function(n,l,t){var e=new Date;e.setTime(e.getTime()+24*t*60*60*1e3);var u="expires="+e.toUTCString();document.cookie=n+"="+l+";"+u+";path=/"}},{key:"getCookie",value:function(n){for(var l=n+"=",t=decodeURIComponent(document.cookie).split(";"),e=0;e<t.length;e++){for(var u=t[e];" "===u.charAt(0);)u=u.substring(1);if(0===u.indexOf(l))return u.substring(l.length,u.length)}return""}}]),n}(),f=((e=function(){function n(){_classCallCheck(this,n),this._highScore=0}return _createClass(n,[{key:"ngOnInit",value:function(){var l=this,t=document.getElementById("game-layer"),e=document.getElementById("background-layer");this.animator=new g(t,e),window.addEventListener("keydown",(function(n){return l.animator.keyEvent(n.key)})),this.animator.start(),this.highScore=+b.getCookie(n.COOKIE_NAME)}},{key:"ngOnDestroy",value:function(){this.animator.destroy()}},{key:"score",get:function(){return this.animator.state.snake.length},set:function(n){}},{key:"highScore",get:function(){return this.score>this._highScore&&(this._highScore=this.score,b.setCookie(n.COOKIE_NAME,this._highScore,90)),this._highScore},set:function(n){this._highScore=n}}]),n}()).COOKIE_NAME="snake-high-score",e),p=u.vb({encapsulation:0,styles:[["#stage[_ngcontent-%COMP%]{width:700px;height:500px;position:relative;box-sizing:content-box;border:1px solid;background-color:#fff}#stage[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute}#stage[_ngcontent-%COMP%]   #ui-layer[_ngcontent-%COMP%]{z-index:3}#stage[_ngcontent-%COMP%]   #game-layer[_ngcontent-%COMP%]{z-index:2}#stage[_ngcontent-%COMP%]   #background-layer[_ngcontent-%COMP%]{z-index:1}"]],data:{}});function v(n){return u.Tb(0,[(n()(),u.xb(0,0,null,null,2,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),u.xb(1,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),u.Rb(-1,null,["Snake"])),(n()(),u.xb(3,0,null,null,5,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),u.xb(4,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(n()(),u.xb(5,0,null,null,3,"p",[],null,null,null,null,null)),(n()(),u.xb(6,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/Snake_(video_game_genre)"],["target","_blank"]],null,null,null,null,null)),(n()(),u.Rb(-1,null,["Snake"])),(n()(),u.Rb(-1,null,[" is the common name for a video game concept where the player maneuvers a line which grows in length, with the line itself being a primary obstacle. "])),(n()(),u.xb(9,0,null,null,34,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),u.xb(10,0,null,null,33,"div",[["class","jumbotron"]],null,null,null,null,null)),(n()(),u.xb(11,0,null,null,2,"div",[["id","stage"]],null,null,null,null,null)),(n()(),u.xb(12,0,null,null,0,"canvas",[["height","500"],["id","game-layer"],["width","700"]],null,null,null,null,null)),(n()(),u.xb(13,0,null,null,0,"canvas",[["height","500"],["id","background-layer"],["width","700"]],null,null,null,null,null)),(n()(),u.xb(14,0,null,null,29,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var e=!0;return"submit"===l&&(e=!1!==u.Jb(n,16).onSubmit(t)&&e),"reset"===l&&(e=!1!==u.Jb(n,16).onReset()&&e),e}),null,null)),u.wb(15,16384,null,0,a.q,[],null,null),u.wb(16,4210688,null,0,a.j,[[8,null],[8,null]],null,null),u.Ob(2048,null,a.b,null,[a.j]),u.wb(18,16384,null,0,a.i,[[4,a.b]],null,null),(n()(),u.xb(19,0,null,null,24,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(n()(),u.xb(20,0,null,null,11,"div",[["class","col-4"]],null,null,null,null,null)),(n()(),u.xb(21,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),u.xb(22,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(n()(),u.xb(23,0,null,null,1,"span",[["class","input-group-text"],["id","scoreLabel"]],null,null,null,null,null)),(n()(),u.Rb(-1,null,["Score"])),(n()(),u.xb(25,0,null,null,6,"input",[["aria-describedby","scoreLabel"],["class","form-control"],["disabled",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var e=!0,i=n.component;return"input"===l&&(e=!1!==u.Jb(n,26)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==u.Jb(n,26).onTouched()&&e),"compositionstart"===l&&(e=!1!==u.Jb(n,26)._compositionStart()&&e),"compositionend"===l&&(e=!1!==u.Jb(n,26)._compositionEnd(t.target.value)&&e),"ngModelChange"===l&&(e=!1!==(i.score=t)&&e),e}),null,null)),u.wb(26,16384,null,0,a.c,[u.J,u.n,[2,a.a]],null,null),u.Ob(1024,null,a.f,(function(n){return[n]}),[a.c]),u.wb(28,671744,null,0,a.k,[[2,a.b],[8,null],[8,null],[6,a.f]],{isDisabled:[0,"isDisabled"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),u.Mb(29,{standalone:0}),u.Ob(2048,null,a.g,null,[a.k]),u.wb(31,16384,null,0,a.h,[[4,a.g]],null,null),(n()(),u.xb(32,0,null,null,11,"div",[["class","col-4"]],null,null,null,null,null)),(n()(),u.xb(33,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),u.xb(34,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(n()(),u.xb(35,0,null,null,1,"span",[["class","input-group-text"],["id","highScoreLabel"]],null,null,null,null,null)),(n()(),u.Rb(-1,null,["Your High Score"])),(n()(),u.xb(37,0,null,null,6,"input",[["aria-describedby","highScoreLabel"],["class","form-control"],["disabled",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var e=!0,i=n.component;return"input"===l&&(e=!1!==u.Jb(n,38)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==u.Jb(n,38).onTouched()&&e),"compositionstart"===l&&(e=!1!==u.Jb(n,38)._compositionStart()&&e),"compositionend"===l&&(e=!1!==u.Jb(n,38)._compositionEnd(t.target.value)&&e),"ngModelChange"===l&&(e=!1!==(i.highScore=t)&&e),e}),null,null)),u.wb(38,16384,null,0,a.c,[u.J,u.n,[2,a.a]],null,null),u.Ob(1024,null,a.f,(function(n){return[n]}),[a.c]),u.wb(40,671744,null,0,a.k,[[2,a.b],[8,null],[8,null],[6,a.f]],{isDisabled:[0,"isDisabled"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),u.Mb(41,{standalone:0}),u.Ob(2048,null,a.g,null,[a.k]),u.wb(43,16384,null,0,a.h,[[4,a.g]],null,null)],(function(n,l){var t=l.component,e=t.score,u=n(l,29,0,!0);n(l,28,0,"",e,u);var i=t.highScore,s=n(l,41,0,!0);n(l,40,0,"",i,s)}),(function(n,l){n(l,14,0,u.Jb(l,18).ngClassUntouched,u.Jb(l,18).ngClassTouched,u.Jb(l,18).ngClassPristine,u.Jb(l,18).ngClassDirty,u.Jb(l,18).ngClassValid,u.Jb(l,18).ngClassInvalid,u.Jb(l,18).ngClassPending),n(l,25,0,u.Jb(l,31).ngClassUntouched,u.Jb(l,31).ngClassTouched,u.Jb(l,31).ngClassPristine,u.Jb(l,31).ngClassDirty,u.Jb(l,31).ngClassValid,u.Jb(l,31).ngClassInvalid,u.Jb(l,31).ngClassPending),n(l,37,0,u.Jb(l,43).ngClassUntouched,u.Jb(l,43).ngClassTouched,u.Jb(l,43).ngClassPristine,u.Jb(l,43).ngClassDirty,u.Jb(l,43).ngClassValid,u.Jb(l,43).ngClassInvalid,u.Jb(l,43).ngClassPending)}))}var m=u.tb("app-snake",f,(function(n){return u.Tb(0,[(n()(),u.xb(0,0,null,null,1,"app-snake",[],null,null,null,v,p)),u.wb(1,245760,null,0,f,[],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),C=t("SVse"),k=t("iInd"),y=function n(){_classCallCheck(this,n)};t.d(l,"SnakeModuleNgFactory",(function(){return x}));var x=u.ub(i,[],(function(n){return u.Gb([u.Hb(512,u.l,u.fb,[[8,[s.a,m]],[3,u.l],u.B]),u.Hb(4608,C.o,C.n,[u.x,[2,C.D]]),u.Hb(4608,a.o,a.o,[]),u.Hb(1073742336,C.b,C.b,[]),u.Hb(1073742336,k.o,k.o,[[2,k.t],[2,k.k]]),u.Hb(1073742336,y,y,[]),u.Hb(1073742336,a.n,a.n,[]),u.Hb(1073742336,a.d,a.d,[]),u.Hb(1073742336,i,i,[]),u.Hb(1024,k.i,(function(){return[[{path:"",component:f}]]}),[])])}))}}]);